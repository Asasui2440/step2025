# 第4回　Graph Algorithm

`wikipedia_dataset` … linksとpageのtxtファイルを保持  
`wikipedia_graph.py` 宿題の関数がまとめられてあります。


- `wikipedia_dataset`

  
`links_〇〇.txt` ノードのidと、それに対する行き先ノードを列挙

```python
1 2
2 3
2 4
3 1...
```

`pages_〇〇.txt` ノードのidと、それに対する名前を列挙

```python
5 アンパサンド
10 言語
11 日本語
12 地理学
14 EU_(曖昧さ回避)
23 国の一覧
26 SandBox
....
```

実行

```python
largeの場合

python wikipedia_graph.py wikipedia_dataset/pages_large.txt wikipedia_dataset/links_large.txt
```



### 宿題1

`find_shortest_path` 2つのページの最短経路を見つける

→BFS

startが渋谷、goalがパレートの法則の場合の出力

```python
渋谷 -> マクドナルド -> Twitter -> パレートの法則
```

### 宿題2

`find_most_popular_pages`　ページランクが上位10のものを表示する

**ページランクの値の計算方法**  

初期値は各ノード1.0

- どこにも行き先がないノードは、ページランクの値を全てのノードに等しく分配
- 行き先があるノードは、行き先のノードに85%を等しく分配し、全てのノードに15%を等しく分配する

値が収束したら、上位10の単語を出力させる

```
宿題2 page rank
small
C: 1.3731
D: 1.3731
B: 1.1967
E: 0.8118
F: 0.8118
A: 0.4336

medium
英語: 1507.2977
ISBN: 959.7071
2006年: 526.1014
2005年: 502.2609
2007年: 491.4819
東京都: 480.2739
昭和: 459.3758
2004年: 445.3697
2003年: 404.7384
2000年: 401.8896

large：(最終的なループを抜けたdiffが0.0072、32回ループ)
英語: 4576.8286
日本: 4569.2209
VIAF_(識別子): 3806.8190
バーチャル国際典拠ファイル: 3320.3658
アメリカ合衆国: 2714.5298
ISBN: 2711.5266
ISNI_(識別子): 2060.6626
国際標準名称識別子: 1865.4484
地理座標系: 1815.8479
SUDOC_(識別子): 1518.7882
```

### 宿題3

`find_longest_path`　渋谷から池袋までの最長距離を探す。

考え：

スタートとゴールからそれぞれbfsをして、経路が被らないように探索していく。

n回目に経路が被ったら、そこを中間地点として、start,goalそれぞれで、中間地点までの経路を求めて合体させる。

うまくいかず。渋谷、池袋両方にリンクされているノードが多すぎる？
