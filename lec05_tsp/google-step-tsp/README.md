# 第5回  TSP challenge  

N個の点を全て辿るように始点へ戻るルートの中で、最小のものを探す  
詳細：  
https://github.com/hayatoito/google-step-tsp

**実行方法(例)**
```
python solver_opt.py input_0.csv output_0.csv
```

### 実行ファイル solver_opt.py
多始点貪欲 + 焼きなまし法
参考：
https://qiita.com/take314/items/69b93481403feb857d6e

**c++_solver.cc** 
- solver_opt.pyをc++に翻訳させて、iterationを増やして実行した  


### N = 8192 用の実行ファイル  
- `solver_input7.py`
- `c++_solver_input7.cc`
- とりあえず多始点貪欲法 + opt2で交差解消のみ
- claude.aiにpythonのコードをc++翻訳させて、開始点をたくさん試せるようにした。  

始点を300回試した時  
greedy = 95222.8  
opt2 = 84642.9  ←スコア  

<br>


### チャレンジ2 
- `solve_greedy_multi_start`: 貪欲法を、10個の開始点から試して一番いいものを採用した。  
- opt3_randomは、5万回、3辺の繋ぎ直しを試みた。10万回にしたら若干悪くなったので5万回にしておいた。
- annealingは見たところ機能していなかったので、annealing + opt3_randomと、opt3_randomの違いは、greedyやopt3_randomのランダム性によるものだと考えられる。  
- 焼きなまし(annealing)のどこがおかしくて動いていないのかをおいおい考えていきたいです

<br>


| 手法                                             | N = 5 | N = 8 | N = 16 | N = 64 | N = 128 | N = 512 | N = 2048 |
|--------------------------------------------------|--------|--------|---------|---------|----------|-----------|------------|
| greedy_multi_start + opt2                        | 3418   | 3832   | 4821    | 8773    | 11272    | 21911     | 42465      |
| greedy_multi_start + opt2 + opt3_limited         | 3418   | 3832   | 5065    | 8657    | 11445    | 21975     | 42579      |
| greedy_multi_start + opt2 + opt3_random          | 3418   | 3832   | 4750    | 8612    | **11214**    | 22124     | 42747      |
| greedy_multi_start + opt2 + annealing            | 3418   | 3778   | 4494    | 8845    | 11460    | 22057     | 42605      |
| greedy_multi_start + opt2 + annealing + opt3_random | 3418 | 3778   | 4494    | **8520**    | 11262    | **22052**     | **42348**      |

<br>

### チャレンジ3

焼きなまし法が上手く行った。焼きなまし法の概要について、そもそも理解していなかったことが原因で色々間違えていました。  

| 手法                                             | N = 5 | N = 8 | N = 16 | N = 64 | N = 128 | N = 512 | N = 2048 |
|--------------------------------------------------|--------|--------|---------|---------|----------|-----------|------------|
| greedy_multi_start + annealing | 3418 | 3778   | 4494    | **8118**    | **10601**    | **20254.9**     | **41348**      |
 





### これからやりたいアルゴリズム
- 蟻コロニー
- 遺伝的アルゴリズム
  
