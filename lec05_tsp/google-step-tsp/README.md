# 第5回  TSP challenge  

N個の点を全て辿るように始点へ戻るルートの中で、最小のものを探す  
詳細：  
https://github.com/hayatoito/google-step-tsp

**実行方法(例)**
```
python solver_opt.py input_0.csv > output_0.csv
```

**ファイル**  
`solver_opt.py`
- greedy + opt2
- greedy + opt3
- 近傍法
- greedy + opt2 + 焼きなまし
  → greedy + opt2 と全く同じ結果になってしまった。(パラメータを変えてみても変わらず)

`not_work_functions.py`
- うまくいかなかった関数をまとめて置いておいた。(改善が見られなかったもの、機能しなかったもの、opt3全探索は実行時間が長すぎたため)

`improved_annealing.py`
- 近傍法を用いて、焼きなましを行なってみたが、機能しなかった  


| 手法                          | N = 5 | N = 8 | N = 16 | N = 64 | N = 128 | N = 512 | N = 2048 |
|-----------------------------|--------|--------|---------|---------|----------|-----------|------------|
| greedy + opt2              | 3418   | 3832   | 5232    | 9261    | 11591    | 22314     | 43825      |
| greedy + opt3              | 3418   | 3832   | 5466    | 11750   | 12515    | 25878     | ??      |
| 近傍法 + 焼きなまし    　　　　| **3291**   | **3778**   | **4899**   | 9261    | 11591    | 22314     | ??         |
| 近傍法のみ                  | 3418   | 3832   | 5232    | 9261    | 11591    | 22314     | 43825      |
| greedy + opt2 + 焼きなまし | 3418   | 3832   | 5232    | 9261    | 11591    | 22314     | 43825      |
| greedy + opt2 + lin_kernighan | 3858 | 4352   | 8566    | 11795   | 12049    | 29435     | ??         |


### もう一度チャレンジ
- `solve_greedy_multi_start`: 貪欲法を、10個の開始点から試して一番いいものを採用した。  
- opt3_randomは、5万回、3辺の繋ぎ直しを試みた。10万回にしたら若干悪くなったので5万回にしておいた。
- annealingは見たところ機能していなかったので、annealing + opt3_randomと、opt3_randomの違いは、greedyやopt3_randomのランダム性によるものだと考えられる。  
- 焼きなまし(annealing)のどこがおかしくて動いていないのかをおいおい考えていきたいです  

| 手法                                             | N = 5 | N = 8 | N = 16 | N = 64 | N = 128 | N = 512 | N = 2048 |
|--------------------------------------------------|--------|--------|---------|---------|----------|-----------|------------|
| greedy_multi_start + opt2                        | 3418   | 3832   | 4821    | 8773    | 11272    | 21911     | 42465      |
| greedy_multi_start + opt2 + opt3_limited         | 3418   | 3832   | 5065    | 8657    | 11445    | 21975     | 42579      |
| greedy_multi_start + opt2 + opt3_random          | 3418   | 3832   | 4750    | 8612    | **11214**    | 22124     | 42747      |
| greedy_multi_start + opt2 + annealing            | 3418   | 3778   | 4494    | 8845    | 11460    | 22057     | 42605      |
| greedy_multi_start + opt2 + annealing + opt3_random | 3418 | 3778   | 4494    | **8520**    | 11262    | **22052**     | **42348**      |



### これからやりたいアルゴリズム
- 蟻コロニー
- 遺伝的アルゴリズム
  
